{"ast":null,"code":"var _jsxFileName = \"/Users/David/Desktop/bootcamp2/Project-3/client/src/pages/SavedProperties.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Jumbotron, Container, CardColumns, Card, Button } from 'react-bootstrap';\nimport { GET_ME } from '../utils/queries';\nimport { useQuery, useMutation } from '@apollo/client';\nimport { REMOVE_PROPERTY, SAVE_PROPERTY } from '../utils/mutations';\nimport Auth from '../utils/auth'; // import { Property } from '../components/Property'\n\nimport { getSavedPropertyIds, removePropertyId } from '../utils/localStorage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SavedProperties = () => {\n  _s();\n\n  const {\n    loading,\n    data\n  } = useQuery(GET_ME);\n  const [removeProperty] = useMutation(REMOVE_PROPERTY); // const userData = data?.me || [];\n  // <p className='small'>Price: {price}</p>\n  // <p className='small'>Bathrooms: {baths}</p>\n  // <p className='small'>Bedrooms: {beds}</p>\n  // <p className='small'>sqft: {sqft}</p>\n  // <p className='small'>lot_size: {lot_size}</p>\n\n  const userData = {};\n  userData[\"savedProperties\"] = [{\n    price: 123,\n    baths: 12,\n    sqft: 3448,\n    lot_size: 34849\n  }, {\n    price: 123,\n    baths: 12,\n    sqft: 3448,\n    lot_size: 34849\n  }, {\n    price: 123,\n    baths: 12,\n    sqft: 3448,\n    lot_size: 34849\n  }, {\n    price: 123,\n    baths: 12,\n    sqft: 3448,\n    lot_size: 34849\n  }, {\n    price: 123,\n    baths: 12,\n    sqft: 3448,\n    lot_size: 34849\n  }, {\n    price: 123,\n    baths: 12,\n    sqft: 3448,\n    lot_size: 34849\n  }, {\n    price: 123,\n    baths: 12,\n    sqft: 3448,\n    lot_size: 34849\n  }]; //???????????\n  // const [savedPropertyIds, setSavedPropertyIds] = useState(getSavedPropertyIds());\n\n  const [saveProperty] = useMutation(SAVE_PROPERTY); // console.log(userData, \"SSSSSSSSSS\")\n  // create function that accepts the propertie's mongo _id value as param and deletes the property from the database\n\n  const handleDeleteProperty = async propertyId => {\n    const token = Auth.loggedIn() ? Auth.getToken() : null;\n    if (!token) return false;\n\n    try {\n      await removeProperty({\n        // variables: {propertyId}\n        variables: {\n          propertyId\n        }\n      }); //only triggers if the removeProperty mutation is successful\n\n      removePropertyId(propertyId);\n    } catch (e) {\n      console.log(e);\n    }\n  }; // if data isn't here yet, say so\n\n\n  if (loading) return /*#__PURE__*/_jsxDEV(\"h2\", {\n    children: \"LOADING RESULTS...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 23\n  }, this); // return (\n  //   <>\n  //     <div fluid className='text-light bg-dark'>\n  //       <Container>\n  //         <h1>Viewing saved properties</h1>\n  //       </Container>\n  //     </div>\n  //     <Container>\n  //       <h2>\n  //         {userData.savedProperties.length\n  //           ? `Viewing ${userData.savedProperties.length} saved ${userData.savedProperties.length === 1 ? 'properties' : 'properties'}:`\n  //           : 'You have no saved properties!'}\n  //       </h2>\n  //       <div>\n  //         {userData.savedProperties.map((property) => {\n  //           return (\n  //             <Card key={property.propertyId} border='dark'>\n  //               {property.image ? <Card.Img src={property.image} alt={`The cover for ${property.title}`} variant='top' /> : null}\n  //               <Card.Body>\n  //                 <Card.Title>{property.title}</Card.Title>\n  //                 <p className='small'>Authors: {property.authors}</p>\n  //                 <Card.Text>{property.description}</Card.Text>\n  //                 <Button className='btn-block btn-danger' onClick={() => handleDeleteProperty(property.propertyId)}>\n  //                   Delete this Property!\n  //                 </Button>\n  //               </Card.Body>\n  //             </Card>\n  //           );\n  //         })}\n  //       </div>\n  //     </Container>\n  //   </>\n  // );\n  // };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      fluid: true,\n      className: \"text-light bg-dark\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Viewing saved properties\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: userData.savedProperties.length > 0 ? `Viewing ${userData.savedProperties.length} saved ${userData.savedProperties.length === 1 ? 'property' : 'properties'}:` : 'You have no saved properties!'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: userData.savedProperties.map(property => {\n          console.log(property, \"PROPERTY!!!!!!!!!!\");\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container\",\n            children: /*#__PURE__*/_jsxDEV(Card // key={propertyId} \n            , {\n              border: \"dark\",\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"small\",\n                  children: [\"Price: \", property.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"small\",\n                  children: [\"Bathrooms: \", property.baths]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"small\",\n                  children: [\"Bedrooms: \", property.beds]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"small\",\n                  children: [\"sqft: \", property.sqft]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"small\",\n                  children: [\"lot_size: \", property.lot_size]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"btn-block btn-danger\",\n                  onClick: () => // handleDeleteProperty(propertyId)\n                  console.log(\"clicked\"),\n                  children: \"Delete this Property!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(SavedProperties, \"itIhRCMNPR80aXb+Aozlo6G1GPA=\", false, function () {\n  return [useQuery, useMutation, useMutation];\n});\n\n_c = SavedProperties;\nexport default SavedProperties;\n\nvar _c;\n\n$RefreshReg$(_c, \"SavedProperties\");","map":{"version":3,"names":["React","useState","useEffect","Jumbotron","Container","CardColumns","Card","Button","GET_ME","useQuery","useMutation","REMOVE_PROPERTY","SAVE_PROPERTY","Auth","getSavedPropertyIds","removePropertyId","SavedProperties","loading","data","removeProperty","userData","price","baths","sqft","lot_size","saveProperty","handleDeleteProperty","propertyId","token","loggedIn","getToken","variables","e","console","log","savedProperties","length","map","property","beds"],"sources":["/Users/David/Desktop/bootcamp2/Project-3/client/src/pages/SavedProperties.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Jumbotron, Container, CardColumns, Card, Button } from 'react-bootstrap';\r\nimport {GET_ME} from '../utils/queries';\r\nimport {useQuery, useMutation} from '@apollo/client';\r\nimport { REMOVE_PROPERTY, SAVE_PROPERTY } from '../utils/mutations';\r\nimport Auth from '../utils/auth';\r\n// import { Property } from '../components/Property'\r\nimport { getSavedPropertyIds, removePropertyId } from '../utils/localStorage';\r\n\r\nconst SavedProperties = () => {\r\n  const {loading, data} = useQuery(GET_ME);\r\n  const [removeProperty] = useMutation(REMOVE_PROPERTY); \r\n  // const userData = data?.me || [];\r\n  // <p className='small'>Price: {price}</p>\r\n  // <p className='small'>Bathrooms: {baths}</p>\r\n  // <p className='small'>Bedrooms: {beds}</p>\r\n  // <p className='small'>sqft: {sqft}</p>\r\n  // <p className='small'>lot_size: {lot_size}</p>\r\n  const userData = {};\r\n  userData[\"savedProperties\"] = [\r\n    {\r\n      price: 123,\r\n      baths: 12,\r\n      sqft: 3448,\r\n      lot_size: 34849\r\n    },\r\n    {\r\n      price: 123,\r\n      baths: 12,\r\n      sqft: 3448,\r\n      lot_size: 34849\r\n    },\r\n    {\r\n      price: 123,\r\n      baths: 12,\r\n      sqft: 3448,\r\n      lot_size: 34849\r\n    },\r\n    {\r\n      price: 123,\r\n      baths: 12,\r\n      sqft: 3448,\r\n      lot_size: 34849\r\n    },\r\n    {\r\n      price: 123,\r\n      baths: 12,\r\n      sqft: 3448,\r\n      lot_size: 34849\r\n    },\r\n    {\r\n      price: 123,\r\n      baths: 12,\r\n      sqft: 3448,\r\n      lot_size: 34849\r\n    },\r\n    {\r\n      price: 123,\r\n      baths: 12,\r\n      sqft: 3448,\r\n      lot_size: 34849\r\n    }\r\n  ]\r\n  //???????????\r\n  // const [savedPropertyIds, setSavedPropertyIds] = useState(getSavedPropertyIds());\r\n  const [ saveProperty] = useMutation(SAVE_PROPERTY)\r\n  \r\n  // console.log(userData, \"SSSSSSSSSS\")\r\n  // create function that accepts the propertie's mongo _id value as param and deletes the property from the database\r\n  const handleDeleteProperty = async (propertyId) => {\r\n    const token = Auth.loggedIn() ? Auth.getToken() : null;\r\n    if (!token) return false;\r\n\r\n    try {\r\n      await removeProperty({\r\n        // variables: {propertyId}\r\n        variables: {propertyId}\r\n      })\r\n\r\n      //only triggers if the removeProperty mutation is successful\r\n      removePropertyId(propertyId);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  // if data isn't here yet, say so\r\n  if (loading) return <h2>LOADING RESULTS...</h2>\r\n\r\n  // return (\r\n  //   <>\r\n  //     <div fluid className='text-light bg-dark'>\r\n  //       <Container>\r\n  //         <h1>Viewing saved properties</h1>\r\n  //       </Container>\r\n  //     </div>\r\n  //     <Container>\r\n  //       <h2>\r\n  //         {userData.savedProperties.length\r\n  //           ? `Viewing ${userData.savedProperties.length} saved ${userData.savedProperties.length === 1 ? 'properties' : 'properties'}:`\r\n  //           : 'You have no saved properties!'}\r\n  //       </h2>\r\n  //       <div>\r\n  //         {userData.savedProperties.map((property) => {\r\n  //           return (\r\n              \r\n  //             <Card key={property.propertyId} border='dark'>\r\n  //               {property.image ? <Card.Img src={property.image} alt={`The cover for ${property.title}`} variant='top' /> : null}\r\n  //               <Card.Body>\r\n  //                 <Card.Title>{property.title}</Card.Title>\r\n  //                 <p className='small'>Authors: {property.authors}</p>\r\n  //                 <Card.Text>{property.description}</Card.Text>\r\n  //                 <Button className='btn-block btn-danger' onClick={() => handleDeleteProperty(property.propertyId)}>\r\n  //                   Delete this Property!\r\n  //                 </Button>\r\n  //               </Card.Body>\r\n  //             </Card>\r\n  //           );\r\n  //         })}\r\n  //       </div>\r\n  //     </Container>\r\n  //   </>\r\n  // );\r\n\r\n// };\r\n  return (\r\n    <>\r\n      <div fluid className='text-light bg-dark'>\r\n        <Container>\r\n          <h1>Viewing saved properties</h1>\r\n        </Container>\r\n      </div>\r\n      <Container>\r\n        <h2>\r\n          {userData.savedProperties.length > 0\r\n            ? `Viewing ${userData.savedProperties.length} saved ${userData.savedProperties.length === 1 ? 'property' : 'properties'}:`\r\n            : 'You have no saved properties!'}\r\n        </h2>\r\n        <div>\r\n          {userData.savedProperties.map((property) => {\r\n            console.log(property, \"PROPERTY!!!!!!!!!!\")\r\n            return (\r\n              <div className=\"container\">\r\n                  <Card \r\n                    // key={propertyId} \r\n                    border='dark'\r\n                    >\r\n                  {/* {photo ? (\r\n                    <Card.Img src={photo}  variant='top' />\r\n                  ) : null} */}\r\n                  <Card.Body>\r\n                    {/* <Card.Title>{address}</Card.Title> */}\r\n                    <p className='small'>Price: {property.price}</p>\r\n                    <p className='small'>Bathrooms: {property.baths}</p>\r\n                    <p className='small'>Bedrooms: {property.beds}</p>\r\n                    <p className='small'>sqft: {property.sqft}</p>\r\n                    <p className='small'>lot_size: {property.lot_size}</p>\r\n                  <Button className='btn-block btn-danger' onClick={() => \r\n                    // handleDeleteProperty(propertyId)\r\n                    console.log(\"clicked\")\r\n                  }>\r\n                    Delete this Property!\r\n                  </Button>\r\n                </Card.Body>\r\n              </Card>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SavedProperties;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}